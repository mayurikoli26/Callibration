<link rel="stylesheet" href="style.css">

{% extends "base.html" %}
{% block content %}
<div class="container">
  <h3 class="mainTextHeads">Fillup values and observations:</h3>
 <!--- Vender:{{venderid}} | Department:{{deptid}} | Equipment:{{equipmentid}} -->
  <h3 class="mainTextHeads">Equipment : {{equ_name}}</h3>
  <form id ="myForm" class="form-horizontal" action="/save_reading" method="POST">
    <input id="vender" hidden name="venderid" value={{venderid}}>
    <input id="deptid" hidden name="deptid" value={{deptid}}>
    <div class="row form-group formGroup">
      <label class="control-label col-sm-3" for="approvar_name">Name of Approver:</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" id="approvar_name" name="approvar_name" required>
      </div>
    </div>
    <div class="row form-group formGroup">
      <label class="control-label col-sm-3" for="approvar_email">Email_id of Approver:</label>
      <div class="col-sm-6">
        <input type="email" class="form-control" id="approvar_email" name="approvar_email"required>
      </div>
    </div>
    <tbody>
    {% for row in data %}
    <div class="row form-group formGroup">
      <label class="control-label col-sm-3" for="pwd">{{row}}:</label>
      <div class="col-sm-6">          
        <input type="text" class="form-control" id="pwd" name="{{row}} :"required>  
    
      </div>
    </div>
    {% endfor %}

    <div class="row form-group formGroup">
      <label class="control-label col-sm-3 " for="myForm">Remarks:</label>
      <div class="col-sm-6">          
        <input type="text" class="form-control" id="myForm" name="Remarks"required>
      </div>
    </div>
  
  <div class="mt-4">
     <div class="row">        
      <div class="col-sm-12 col-md-6 col-lg-6 btnHeight">
        <button class="btn selectVendor1 " id="cancel_btn" onclick="myAction_reading()">Cancel <i class="fas fa-arrow-circle-right"></i></button>
      </div>
      <div class="col-sm-12 col-md-6 col-lg-6 btnHeight">
        <button class="btn selectVendor" id="save_btn" onclick="getAllValues2()">Save All <i class="fas fa-arrow-circle-right"></i>
        </button>
      </div>
      
     </div>
  </div>
    <input type="hidden" id="equipmentid" name="equipmentid" value={{equipmentid}}>
    <input type="hidden" id="vender" name="venderid" value={{venderid}}>
    <input type="hidden" id="dept" name="deptid" value={{deptid}}>
 </form>
</div>

<script>
var fruits=[""]
var nuts=[""]
var txt="21";
var j=1;
document.getElementById("demo").addEventListener("click", myAddParamater);
//document.getElementById("demo").innerHTML = fruits;

// function myAddParamater() {
  
//   fruits.push(document.getElementById('add_para').value);
//   nuts.push(document.getElementById('add_para').value);
//   var x = fruits.length;
//   var i;
 
//   for (i=1; i<x; i++){
//   }
//   txt =  document.getElementById("demo").value = fruits[j]+" : "+nuts[j]+"<br>"+" "+txt;
//   alert("ok",txt) 
// j++;
// }
// function myFunction() {
//   document.getElementById("demo").innerHTML = "YOU CLICKED ME!";

// }

function getAllValues2() {
    var y = document.getElementById("myForm");
    console.log(y)
    var txt = "";
    var i;
    var txtname="";
    var jsontxt ="{";
    
    var fruits, text, fLen, i,n, index_flag="False", txtn="";
    for (j = 0; j < y.length; j++) {
        if (index_flag=="True"){
           index_flag="False";
           continue;
        }
          text = y.elements[j].value ;
   
    }
    x = y;
    for (i = 0; i < x.length-10; i++) {
      txt = x.elements[i].value ;
     
      txtname = document.getElementById("myForm").elements[i].name;
  
      jsontxt = jsontxt + "\"" + txtname + "\"" + " : \"" + txt +"\",";
    }
    var jsonelem = jsontxt.replace(/,$/,'}');
    //document.getElementById("demo").innerHTML = patt1 ;

 
    // document.getElementById("textall").value=jsonelem;
   
    // return
  }



</script>

{% endblock %}

